(function($){$.ui.autocomplete.wiquery={};$.ui.autocomplete.wiquery.changeEvent=function(event,ui,hiddenId,updateUrl){if(ui.item){$('#'+hiddenId).val(ui.item.valueId);$(event.target).val(ui.item.label);}
else{var val=$(event.target).val();var data;if(val==undefined||val.length<=0){data=null;}else{var find=null;var source=$(event.target).autocomplete('option','source');var matcher=new RegExp("^"+val+"$","i");$.each(source,function(index,value){if(value&&value.label&&value.label.match(matcher)){find=value;$(event.target).val(value.label);return false;}});data=find;}
$('#'+hiddenId).val(data==undefined?'':data.valueId);}
if(updateUrl){var attrs={u:updateUrl};attrs.ep={};attrs.ep[$('#'+hiddenId).attr('name')]=$('#'+hiddenId).val();attrs.ep[$(event.target).attr('name')]=$(event.target).val();var wcall = Wicket.Ajax.post(attrs);}};})(jQuery);
